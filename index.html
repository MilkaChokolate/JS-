<!DOCTYPE html>
<html>
<head>
    <title>3 блок</title>
    <meta charset="utf-8">
    <script>

        testArray1 = (arr) => {
            let count = 0;
            arr.map(() => {
                count++;
            })
            return count;
        }
        console.log(testArray1([1,2,3,4,5]))//*С помощью метода map реализовать получение количества элементов в массиве*//


        testArray2 = (arr, val) =>{
            let count = 0;
            arr.forEach((value) => {
                if (value === val) {
                    count+=1;
                }
                console.log(count);
            })
        } //*Написать функцию, которая параметрами принимает значение и массив значений.
        //Вывести количество элементов массива, которые равны первому параметру.*//



        testArray3 = (arr) =>{
            let valArray =[];
            arr.forEach((value) => {
                if (value%2 === 0) {
                    valArray.push(value);
                }
            })
            return valArray;
        }
        console.log(testArray3([1,2,4,7]))//*Написать функцию, которая параметром принимает массив. Вывести четные значения массива.*//

       let indexArray = [];
        testArray4 = (arr, val) =>{
            arr.forEach((value, index) => {
                if (value === val) {
                    indexArray.push(index);
                }
            })
            return indexArray
        }
        console.log(testArray4([1,2,3,4,5,5,5], 5));//*Написать функцию, которая параметрами принимает значение и массив значений.
        // Вывести массив индексов элементов, которые равны заданному значению.*//

       testArray5 = (arr, val1, val2) => {
           let num = undefined;
           arr.forEach((value, index) => {
               if (value === val1){
                   num = index;
               }
               arr[num]=val2;
           })
           return arr;
       }//*Написать функцию, которая принимает 3 аргумента: 2 значения и массив со значениями.
        // Необходимо вывести измененный массив значений, в котором последнее вхождение первого


        testArray6 = (objectArray, obj) => {
            let aRRay=[];
            for (let i= 0; i<objectArray.length; i++) {
              if (JSON.stringify(objectArray[i]) === JSON.stringify(obj)){
                  aRRay.push(objectArray[i]);
              }
            }
            return aRRay;
            }
            console.log(testArray6([{ name: "Цюрих", population: 378884},
                { name: "Женева", population: 188634},
                { name: "Базель", population: 164937},{ name: "Базель", population: 164937}], { name: "Базель", population: 164937}));
        //*Написать функцию, которая принимает 2 аргумента: объект и массив с объектами.
        // Необходимо вывести массив объектов, в котором все объекты совпадают с объектом первого аргумента функции*//

        testArray7 = (arr, val1, val2) => {
            arr.forEach((value, index) => {
                if ((value === val1) || (value === val2)){
                    indexArray.push(index);
                }
            })
            return indexArray;
        }//*Написать функцию, которая параметрами принимает: массив элементов, 1-е значение, 2-е значение.
        // Вернуть массив индексов элементов значений, которых совпадают с параметрами.*//


        testArray8 = (arr, val1, val2) => {
            let valueArray = [];
            arr.forEach(value => {
                if ((value > val1) && (value > val2)){
                    valueArray.push(value);
                }
            })
            return valueArray;
        }//*Написать функцию, которая параметрами принимает: массив элементов, 1-е значение, 2-е значение.
        // Вернуть массив значений, которые больше эти 2-х параметров.*//

        /*testArray9*/
        //*Написать функцию, которая параметрами принимает: массив объектов, объект с минимум 2-ми полями.
        // Вернуть массив объектов, объекты которого, совпадают с объектом из параметром
        // минимум по одному ключу или значению*//


        testArray10 =(arr) => {
            let valArray = [];
            let val2Array =[]
            arr.forEach((value) => {
                if (value % 2 === 0) {
                    valArray.push(value);
                }else{
                    val2Array.push(value);
                }
            })
            return val2Array;
        }
        //*Написать функцию, которая параметром принимает массив элементов. Отобрать массив с четными элементами.
        // Вернуть массив со значениями, которые отсутствуют в получившемся массиве.



        testArray11 =(arr) =>{
            let valArray = [];
            let val2Array =[]
            arr.forEach((value) => {
                if (value%2 === 0) {
                    valArray.push(value);
                }else{
                    val2Array.push(value);
                }
            })
            return valArray;
        }
        //*Написать функцию, которая параметром принимает массив элементов. Отобрать массив с нечетными элементами.
        // Вернуть массив со значениями, которые отсутствуют в получившемся массиве.*//

        testArray12 = (arr) => {
            let result = true;
            for (let i =0; i<arr.length; i++) {
                if (arr[i] < 0){
                    return false;
                } else {
                    return result;
                }
            }
        }//*Написать функцию, которая параметром принимает массив.
        // Функция возвращает true, если все значения положительные, иначе false.*//

        testArray13 = (arr) => {
            let result = true;
            for (let i =0; i<arr.length; i++) {
                if (arr[i]%2 === 0){
                    return false;
                } else {
                    return result;
                }
            }
        }
        console.log(testArray13([2,4,6,8]))//*Написать функцию, которая параметром принимает массив элементов.
        // Функция возвращает true, если все элементы нечетные, иначе false.*//

        testArray14 = (arr) => {
            let result = true;
            for (let i=0; i<arr.length; i++) {
                if (arr[i] < 0){
                    return false;
                } else {
                    return result;
                }
            }
        }
        //*Написать функцию, которая параметром принимает массив.
        // Функция возвращает true, если хотя бы 1 значение положительное, иначе false.
        // И вернуть массив положительных значений.*//

        testArray15 = (arr) => {
            let result = true;
            for (let i = 0; i<arr.length;i++) {
                if (arr[i] % 2 === 0){
                    return false;
                } else {
                    return result;
                }
            }
        }//*Написать функцию, которая параметром принимает массив элементов.
        // Функция возвращает true, если хотя бы 1 элемент нечетный, иначе false.
        // И вернуть массив нечетных значений.*//

        testArray16 = (arr, val) => {
            let result =true;
            for (let i =0; i<arr/length; i++) {
                if (arr[i] !== val){
                    return false;
                } else {
                    return result;
                }
            }
        }//*  Написать функцию, которая параметром принимает массив элементов и значение.
        // Функция возвращает true,если в массиве есть это значение, иначе false.*//



        testArray17 = (arr, key, value) => {
            let arrOfObj =[];
            for (let i = 1; i<arr.length; i++){
                if (arr[i][key] === value){
                    arrOfObj.push(arr[i])
                }
            }
            return arrOfObj;
        }
        console.log(testArray17([{num:12, bul:false}, {num:1, bul:false},{num:8, bul:false}, {}, {bul: true}], 'num', 1));
        //*Написать функцию, которая параметрами принимает: массив объектов, ключ, значение.
        // Функция возвращает массив объектов, у которых по заданному ключу совпадает заданное значение.
        // Но в массиве хранятся объекты у которых может отсутствовать данное свойство или быть вообще пустым объектом.*//
        testArray18 = (arr) => {
            let max = arr[0];
            let maxIndex = 0;
            arr.forEach((value, index) => {
                if (value > max) {
                    max = value;
                    maxIndex = index;
                }
            })
            return maxIndex;
        }//*Написать функцию, которая параметром принимает массив. Функция возвращает индекс максимального элемента.*//

        testArray19 = (arr) =>{
            let max = arr[0];
            let maxIndex = 0;
            let count = 0;
            arr.forEach((value, index) =>{
                if (value > max){
                    max = value;
                    maxIndex = index;
                }
            });
            arr.forEach((value) =>{
                if (value === max){
                    count += 1;
                }
            })
            let obj = {
                'max' : max,
                'index': maxIndex,
                'count': count
            };
            return obj;
        };
        console.log(testArray19([3,6,8,19,19,3]));
        //*Написать функцию, которая параметром принимает массив.
        // Функция возвращает объект вида: { max: value, index: i, count: number}
        // Где max - значение максимального элемента, index - индекс максимального элемента,
        // count - количество элементов, если значение максимального элемента не одно в массиве.*//

        testArray20 = (arr, key) => {
            let a = arr[0][key];
            let maxObj = arr[0];
            for (let i = 1; i<arr.length; i++){
                if (arr[i][key] > a){
                    a = arr[i][key];
                    maxObj = arr[i];
                }
            }
            return maxObj;
        }
        console.log(testArray20([{num : 12, nam :7}, {num : 17, nam :7},{num : 18, nam :7}], 'num'));

        //*Написать функцию, которая параметрами принимает: массив объектов, название ключа.
        // Функция возвращает элемент со свойством, которого значение максимальное.*//

        testArray21 =(...arrays) => {
            let result = [...arrays[0],...arrays[1],...arrays[2]];
            let mySet = new Set (result);
            let filteredArray = Array.from(mySet);
            return filteredArray;
        }
        console.log(testArray21([1,2,3],[3,4,5],[5,6,7]));
        //*Написать функцию, которая параметрами принимает: несколько массивов.
        // Функция возвращает один массив со всеми элементами этих массивов, исключая повторения.*//
        // аргумента заменено на последний аргумент*//
        
        
        let user = prompt('Кто там?');
            if (user == null){
                alert('Галя, отмена');
            } else  if (user === 'Админ'){
                let password = prompt('Пароль?');
                if (password === 'Я Главный') {
                     alert('Здравствуйте');
                } else  if (password == null){
                    alert('Галя, отмена')
                }else {
                    alert('Ты хто?')
                }
            } else {
                alert('Ты хто?')
            }/*22.Напишите код, который будет спрашивать логин с помощью prompt.
            Если посетитель вводит «Админ», то prompt запрашивает пароль, если ничего не введено
            или нажата клавиша Esc – показать «Отменено», в противном случае отобразить «Я вас не знаю».
            Пароль проверять так:
            Если введён пароль «Я главный», то выводить «Здравствуйте!»,
            Иначе – «Неверный пароль»,
            При отмене – «Отменено».*/
        
        
       let message = (login == 'Сотрудник') ? 'Привет':
              (login == 'Директор') ? 'Здравствуйте' :
              (login == '') ? 'Нет логина' :
                   ''
       /* 23.переделать конструкцию тернарным оператором
                   let message;
                    if (login == 'Сотрудник') {
                      message = 'Привет';
                    } else if (login == 'Директор') {
                      message = 'Здравствуйте';
                    } else if (login == '') {
                      message = 'Нет логина';
                    } else {
                      message = '';
                    }*/
       
    let browser = prompt('Введите называние вашего браузера', '');
    if(browser === 'Edge') {
      alert("You've got the Edge!");
    } else if (browser === 'Chrome' || browser === 'Firefox' || browser === 'Safari' || browser === 'Opera') {
      alert( 'Okay we support these browsers too' );
    } else {
        alert( 'We hope that this page looks ok!' );
    }/*24. Переделать конструкцию в if
        if(browser == 'Edge') {
          alert("You've got the Edge!");
        } else if (browser == 'Chrome'
         || browser == 'Firefox'
         || browser == 'Safari'
         || browser == 'Opera') {
          alert( 'Okay we support these browsers too' );
        } else {
          alert( 'We hope that this page looks ok!' );
        }*/

    const number = +prompt('Введите число между 0 и 3', '');
    switch (number){
        case 0:
           alert('Вы ввели число 0');
           break;
        case 1:
            alert('Вы ввели число 1');
            break;
        case 2:
        case 3:
           alert('Вы ввели число 2, а может и 3');
           break;
        default:
            alert('Ошибка');
}/*25.Переделать конструкцию в switch
        const number = +prompt('Введите число между 0 и 3', '');
        
        if (number === 0) {
          alert('Вы ввели число 0');
        }
        
        if (number === 1) {
          alert('Вы ввели число 1');
        }
        
        if (number === 2 || number === 3) {
          alert('Вы ввели число 2, а может и 3');
        }*/
        
   function checkAge(age){
        return (age > 18) ? true : confirm('Родители разрешили?');
    }
    let age = prompt('Ваш возраст', '');

    function checkAge2(age){
        return (age > 18) ||(confirm('Родители разрешили?'));
    }
    checkAge2(age);
        /*26.Переделать функцию с помощью ? и ||
        function checkAge(age) {
          if (age > 18) {
            return true;
          } else {
            return confirm('Родители разрешили?');
          }
        }*/
        
    function sum(obj){
        let sum = 0;
        for (let salary in obj){
            sum += obj[salary];
        }
        console.log(sum);
    }
    sum(salaries);// 27. Поститать зп
        
            function multiplyNumeric(obj){
        for (let key in obj){
            if (typeof obj[key] == "number"){
                obj[key] = obj[key]*2;
            }
        }
        console.log(obj);
    }// 28.Создайте функцию multiplyNumeric(obj), которая умножает все числовые свойства объекта obj на 2
    let user = {
      name: "Иван",
      age: 30
    };

    let clone = Object.assign({}, user);//28.Создание независимого клона объекта
    
    
        
     let calculator = {
      read : function (){
          let x = +prompt('Введите первую координату', '');
          let y = +prompt('Введите вторую координату', '');
          this.x = x;
          this.y = y;
          return(this);
      },
      sum : function (){
          return (this.x + this.y)
      },
      mul : function () {
          return (this.x * this.y)
      }
    };

    calculator.read();
    alert( calculator.sum() );
    alert( calculator.mul() );/*30.Создайте объект calculator (калькулятор) с тремя методами:
                                    read() (читать) запрашивает два значения и сохраняет их как свойства объекта.
                                    sum() (суммировать) возвращает сумму сохранённых значений.
                                    mul() (умножить) перемножает сохранённые значения и возвращает результат.*/
     
   function Calculator(){
      this.read = function (){
          let x = +prompt('Введите первую координату', '');
          let y = +prompt('Введите вторую координату', '');
          this.x = x;
          this.y = y;
          return(this);
      };
      this.sum = function (){
          return (this.x + this.y);
      };
      this.mul = function () {
          return (this.x * this.y);
      }
    }

    let calculator = new Calculator();
    calculator.read();
    alert( "Sum=" + calculator.sum() );
    alert( "Mul=" + calculator.mul() );//31.Создать конструктор объекта с методами.
        
        
    function Accumulator(startingValue) {
      this.value = startingValue;

      this.read = function() {
        this.value += +prompt('Сколько нужно добавить?', 0);
      };

    }/*32.Напишите функцию-конструктор Accumulator(startingValue).
            Объект, который она создаёт, должен уметь следующее:
            Хранить «текущее значение» в свойстве value. Начальное значение устанавливается в аргументе конструктора startingValue.
            Метод read() использует prompt для получения числа и прибавляет его к свойству value.
            Таким образом, свойство value является текущей суммой всего, что ввёл пользователь при вызовах метода read(), с учётом начального значения startingValue.*/
    function random(min, max) {
      return min + Math.random() * (max - min);
    }//33.Напишите функцию random(min, max), которая генерирует случайное число с плавающей точкой от min до max (но не включая max).
     
    function randomInteger(min, max) {
      let rand = min + Math.random() * (max + 1 - min);
      return Math.floor(rand);
    }//34.Напишите функцию randomInteger(min, max), которая генерирует случайное целое (integer) число от min до max (включительно).
    
    let str = "Ослик Иа-Иа посмотрел на виадук";
    let target = "Иа";

    let pos = -1;
    while ((pos = str.indexOf(target, pos + 1)) != -1) {
      alert( pos );
    }// 35. Найти все позиции подстрок в строке

function checkSpam(str) {
  let lowerStr = str.toLowerCase();
  return lowerStr.includes('viagra') || lowerStr.includes('xxx');
}//36.Напишите функцию checkSpam(str), возвращающую true, если str содержит 'viagra' или 'XXX', а иначе false.
 
function ucFirst(str) {
  if (!str) return str;
  return str[0].toUpperCase() + str.slice(1);
}//37.Напишите функцию ucFirst(str), возвращающую строку str с заглавным первым символом.
        
function truncate(str, maxlength) {
  return (str.length > maxlength) ?
    str.slice(0, maxlength - 1) + '…' : str;
}//38.Создайте функцию truncate(str, maxlength), которая проверяет длину строки str и, если она превосходит maxlength, заменяет конец str на "…", так,
 //чтобы её длина стала равна maxlength.
        
let users = [
  {id: 1, name: "Вася"},
  {id: 2, name: "Петя"},
  {id: 3, name: "Маша"}
];
let user = users.find(item => item.id == 1);
alert(user.name); // Вася
        
        
let users = [
  {id: 1, name: "Вася"},
  {id: 2, name: "Петя"},
  {id: 3, name: "Маша"}
];
// возвращает массив, состоящий из двух первых пользователей
 let someUsers = users.filter(item => item.id < 3);
alert(someUsers.length); // 2

        
function compareNumeric(a, b) {
  if (a > b) return 1;
  if (a == b) return 0;
  if (a < b) return -1;
}
let arr = [ 1, 2, 15 ];
arr.sort(compareNumeric);
alert(arr);  // 1, 2, 15
    </script>
